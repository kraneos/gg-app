{"version":3,"file":"home.component.js","sourceRoot":"","sources":["../../Users/poloagustin/git/angular-seggu/tmp/broccoli_type_script_compiler-input_base_path-TO0yoQC9.tmp/0/src/app/home/home.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport {MdToolbar} from '@angular2-material/toolbar';\nimport {MdButton} from '@angular2-material/button';\nimport {MD_SIDENAV_DIRECTIVES} from '@angular2-material/sidenav';\nimport {MD_LIST_DIRECTIVES} from '@angular2-material/list';\nimport {MD_CARD_DIRECTIVES} from '@angular2-material/card';\nimport {MdInput} from '@angular2-material/input';\nimport {MdCheckbox} from '@angular2-material/checkbox';\nimport {MdRadioButton, MdRadioGroup} from '@angular2-material/radio';\nimport {MdIcon, MdIconRegistry} from '@angular2-material/icon';\nimport { MD_PROGRESS_CIRCLE_DIRECTIVES } from '@angular2-material/progress-circle';\nimport { ROUTER_DIRECTIVES } from '@angular/router';\nimport {MdUniqueSelectionDispatcher} from '@angular2-material/core';\n\nimport { HomeOptions } from './home-options';\nimport { Policy } from '../shared/domain/policy';\nimport { Fee } from '../shared/domain/fee';\nimport { PolicyClientNamePipe } from './policy-client-name.pipe';\nimport { FeeClientLastNamePipe } from './fee-client-last-name.pipe';\nimport { FeePolicyIconPipe } from './fee-policy-icon.pipe';\n\nimport { PoliciesService } from '../shared/services/policies.service';\nimport { FeesService } from '../shared/services/fees.service';\n\n@Component({\n  moduleId: module.id,\n  selector: 'app-home',\n  templateUrl: 'home.component.html',\n  styleUrls: ['home.component.css'],\n  directives: [\n    MD_SIDENAV_DIRECTIVES,\n    MD_LIST_DIRECTIVES,\n    MD_CARD_DIRECTIVES,\n    MdToolbar,\n    MdButton,\n    MdInput,\n    MdCheckbox,\n    MdRadioGroup,\n    MdRadioButton,\n    MdIcon,\n    ROUTER_DIRECTIVES,\n    MD_PROGRESS_CIRCLE_DIRECTIVES\n  ],\n  providers: [MdIconRegistry, MdUniqueSelectionDispatcher, PoliciesService, FeesService],\n  pipes: [PolicyClientNamePipe, FeeClientLastNamePipe, FeePolicyIconPipe]\n})\nexport class HomeComponent implements OnInit {\n  options: HomeOptions;\n  fees: Fee[];\n  showOptions: boolean;\n  test: number;\n  dateStr: string;\n  hideProgress: boolean;\n\n  constructor(private policiesService: PoliciesService, private feesService: FeesService) { }\n\n  ngOnInit() {\n    this.options = new HomeOptions();\n    this.options.date = new Date();\n    this.dateStr = this.getDateForInput();\n    this.options.limit = '5';\n    this.options.page = 1;\n    this.filter();\n  }\n\n  getDateForInput(): string {\n    let year = this.options.date.getFullYear();\n    let month = this.options.date.getMonth() + 1;\n    let day = this.options.date.getDate();\n    return this.options.date.getFullYear() + '-' +\n      (month < 10 ? '0' : '') + month + '-' +\n      (day < 10 ? '0' : '') + day;\n  }\n\n  onDateChange($event: string) {\n    if ($event === this.dateStr) {\n      return;\n    }\n    if ($event === '') {\n      this.options.date = null;\n      this.dateStr = '';\n    } else {\n      var parts = $event.split('-').map(function (e) {\n        return parseInt(e);\n      });\n      this.options.date = new Date(parts[0], parts[1] - 1, parts[2]);\n      this.dateStr = this.getDateForInput();\n    }\n\n    this.filter();\n  }\n\n  onError(error) {\n    return Observable.throw(error.message);\n  }\n\n  filter() {\n    this.hideProgress = false;\n    this.feesService.query(this.options)\n      .subscribe(\n      fees => {\n        this.fees = fees\n        this.hideProgress = true;\n      },\n      error => {\n        this.onError(error);\n        this.hideProgress = true;\n      });\n    this.showOptions = false;\n  }\n\n  previousDate() {\n    this.options.date = this.addDays(this.options.date, -1);\n    this.dateStr = this.getDateForInput();\n    this.filter();\n  }\n\n  nextDate() {\n    this.options.date = this.addDays(this.options.date, 1);\n    this.dateStr = this.getDateForInput();\n    this.filter();\n  }\n\n  private addDays(date, days) {\n    let anotherDate = new Date(date.valueOf());\n    anotherDate.setDate(anotherDate.getDate() + days);\n    return anotherDate;\n  }\n}\n"]}